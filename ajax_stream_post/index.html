<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<form>
		用户名：<input type="text" name="username" id="user"/><br/>
		密  码：<input type="text" name="password" id="pass"/><br/>
		<input type="submit" value="提交" id="btn">
	</form>
	<div id="loding" style="display:none">loding</div>
</body>
</html>
<script>
	var Btn = document.querySelector('#btn')
	var User = document.querySelector('#user')
	var Pass = document.querySelector('#pass')
	var Lod = document.querySelector('#loding')


	Btn.onclick=function(ev){

		var user_value = User.value;
		var Pass_value = Pass.value;

		ev.preventDefault()
		var xhr = new XMLHttpRequest;
		xhr.open('POST','/ajax',true) 
		xhr.onreadystatechange = function(){
			if( xhr.readyState == 2 ){
				Lod.style.display = 'block';
			}else if(xhr.readyState == 4){
				setTimeout(function(){
					Lod.style.display = 'none';
				},500)
				console.log(xhr.status,xhr.statusText)
				console.log(xhr.responseText)
			}

		}

		xhr.send( [User.value,Pass.value] )
	}
</script>